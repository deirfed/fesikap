function C(a,e=3,n=2){const t={};return a.forEach(d=>{const s=d.toLowerCase();t[s]={};for(let c=1;c<=e;c++){const b=`Kecamatan ${c}`,p=[];for(let u=1;u<=n;u++){const E=`Desa ${String.fromCharCode(64+c)}${u}`,g=Math.random()<.5,h={nama:E,dikunjungi:g};if(g){const D=String(u).padStart(2,"0");h.tanggal=`2025-07-${D}`}p.push(h)}t[s][b]=p}}),t}const l=C(["Kuningan","Ciamis","Banjar","Pangandaran"]),f=document.getElementById("pilihKabupaten"),o=document.getElementById("pilihKecamatan"),i=document.getElementById("pilihDesa"),m=document.getElementById("resultDesa");f.addEventListener("change",function(){const a=this.value;o.innerHTML="<option selected disabled>-- Pilih Kecamatan --</option>",i.innerHTML="<option selected disabled>-- Pilih Desa --</option>",m.innerHTML="",i.disabled=!0,l[a]?(Object.keys(l[a]).forEach(e=>{const n=document.createElement("option");n.value=e,n.textContent=e,o.appendChild(n)}),o.disabled=!1):o.disabled=!0});let r=[];o.addEventListener("change",function(){const a=f.value,e=this.value;i.innerHTML="<option selected disabled>-- Pilih Desa --</option>",m.innerHTML="",l[a]&&l[a][e]?(r=l[a][e],r.forEach(({nama:n})=>{const t=document.createElement("option");t.value=n,t.textContent=n,i.appendChild(t)}),i.disabled=!1):(i.disabled=!0,r=[])});i.addEventListener("change",function(){const a=this.value;m.innerHTML="";const e=r.find(n=>n.nama===a);if(e){const n=document.createElement("ul");n.className="list-group";const t=document.createElement("li");t.className="list-group-item d-flex justify-content-between align-items-center";const d=document.createElement("div");d.innerHTML=`<strong>${e.nama}</strong>`,e.dikunjungi&&e.tanggal&&(d.innerHTML+=`<br><a href="/detail">
            <small class="text-success">Dikunjungi: ${e.tanggal}</small>
        </a>`);const s=document.createElement("span");s.className=`badge rounded-pill ${e.dikunjungi?"bg-success":"bg-secondary"}`,s.textContent=e.dikunjungi?"Sudah Dikunjungi":"Belum Dikunjungi",t.appendChild(d),t.appendChild(s),n.appendChild(t),m.appendChild(n)}});
